<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<html>
  <head>
    <!-- Google tag (gtag.js) -->

    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-ZQS5L0793H"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-ZQS5L0793H");
    </script>
    <title>Data CO2 Estimator</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #222;
        color: #fff;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      a:visited {
        color: inherit;
      }

      .container {
        text-align: center;
        flex: 1;
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
        padding: 20px;
        border-radius: 10px;
        background-color: #333;
        margin-top: 50px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
      }

      input[type="number"] {
        margin: 10px;
        padding: 10px;
        font-size: 18px;
        border-radius: 5px;
        border: none;
      }

      .tooltip {
        position: relative;
        display: inline-flex;
        align-items: center;
      }

      .tooltip-text {
        visibility: hidden;
        width: 200px;
        background-color: #666;
        color: #fff;
        text-align: center;
        border-radius: 5px;
        padding: 5px;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none; /* Added this line to disable pointer events */
      }

      .tooltip:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
        pointer-events: auto; /* Added this line to re-enable pointer events on hover */
      }

      .tooltip-icon {
        margin-left: 5px;
        color: #bbb;
        cursor: pointer;
      }

      #result {
        font-size: 24px;
        color: #fff;
      }

      #trees,
      #cost {
        color: #bbb;
        margin-top: 20px;
      }

      footer {
        background-color: #222;
        text-align: center;
        padding: 20px;
        margin-top: auto;
      }

      footer img {
        max-width: 200px;
      }

      footer p {
        margin: 10px 0 0;
        color: #bbb;
      }

      footer a {
        color: #fff;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Data CO2 Estimator</h2>
      <div class="tooltip">
        <label for="numEmails">Units:</label>
        <div class="tooltip-text" id="tooltip-1">
          Average office worker sends approximately 8,400 emails per year.
          <a
            href="https://prosperitymedia.com.au/how-many-emails-are-sent-per-day-in-2023/"
            target="_blank"
            >[Norquay 2023]</a
          >
        </div>
        <input
          type="number"
          id="numEmails"
          placeholder="Number of Emails"
          value="8400"
          required
          min="0"
        />
      </div>
      <br />

      <div class="tooltip">
        <label for="sizeKB">KB:</label>
        <div class="tooltip-text" id="tooltip-2">
          Average size of an email: 75 KB.
          <a
            href="https://www.lifewire.com/what-is-the-average-size-of-an-email-message-1171208"
            target="_blank"
            >[Tschabitscher 2021]</a
          >
        </div>
        <input
          type="number"
          id="sizeKB"
          placeholder="Size in KB"
          value="75"
          required
          min="0"
        /><br />
      </div>
      <div class="tooltip">
        <label for="sizeMB">MB:</label>
        <div class="tooltip-text" id="tooltip-3">
          Average size of an email: 0.075 MB.
          <a
            href="https://www.lifewire.com/what-is-the-average-size-of-an-email-message-1171208"
            target="_blank"
            >[Tschabitscher 2021]</a
          >
        </div>

        <input
          type="number"
          id="sizeMB"
          placeholder="Size in MB"
          value="0.075"
          required
          min="0"
        /><br />
      </div>
      <div class="tooltip">
        <label for="sizeGB">GB:</label>
        <div class="tooltip-text" id="tooltip-4">
          Average size of an email: 0.000075 KB.
          <a
            href="https://www.lifewire.com/what-is-the-average-size-of-an-email-message-1171208"
            target="_blank"
            >[Tschabitscher 2021]</a
          >
        </div>

        <input
          type="number"
          id="sizeGB"
          placeholder="Size in GB"
          value="0.000075"
          required
          min="0"
        />
      </div>

      per Unit
      <br /><br />
      <div class="tooltip">
        Carbon Intensity:
        <div class="tooltip-text" id="tooltip-5">
          Average grid factor gCO2e/kWh in Germany: 349g.
          <a
            href="https://www.statista.com/statistics/1290224/carbon-intensity-power-sector-germany/"
            target="_blank"
            >[Statista 2022]</a
          >
        </div>
        <input
          type="number"
          id="gridFactor"
          placeholder="Grid Factor"
          value="349"
          required
          min="0"
        />
      </div>
      <div class="tooltip">
        <div class="tooltip-text" id="tooltip-6">
          Assuming 0.5 kWh per GB data transmission.
          <a href="https://www.mdpi.com/2071-1050/10/7/2494" target="_blank"
            >[Pihkola et al. 2018]</a
          >
        </div>
        <p id="result">Total emissions: 0 kg CO2e</p>
      </div>

      <div class="tooltip">
        <div class="tooltip-text" id="tooltip-7">
          Assuming 25 kg CO2e absorption per tree per year.
          <a
            href="https://www.usda.gov/media/blog/2015/03/17/power-one-tree-very-air-we-breathe"
            target="_blank"
            >[U.S. Department of Agriculture 2015]</a
          >
        </div>
        <p id="trees">Number of trees to offset in one year: 0.00552</p>
      </div>
      <div class="tooltip">
        <div class="tooltip-text" id="tooltip-8">
          Assuming 89 Euro per tonne CO2e.
          <a
            href="https://ember-climate.org/data/data-tools/carbon-price-viewer/"
            target="_blank"
            >[Ember Climate 2023]</a
          >
        </div>
        <p id="cost">Cost to offset with carbon certificates: 0.01 Euro</p>
      </div>
    </div>
    <footer>
      <a
        href="https://www.thegreenwebfoundation.org/green-web-check/?url=digital-in-charge.com"
        target="_blank"
      >
        <img
          src="https://api.thegreenwebfoundation.org/greencheckimage/digital-in-charge.com?nocache=true"
          alt="This website is hosted Green - checked by thegreenwebfoundation.org"
          style="max-width: 400px"
        />
      </a>
      <p>
        &copy; 2023 Yelle Lieder. All rights reserved. |
        <a href="https://github.com/yellelieder" target="_blank">GitHub</a> |
        <a href="https://www.linkedin.com/in/lieder/" target="_blank"
          >LinkedIn</a
        >
      </p>
    </footer>
    <script>
      let numEmails = document.getElementById("numEmails");
      let sizeKB = document.getElementById("sizeKB");
      let sizeMB = document.getElementById("sizeMB");
      let sizeGB = document.getElementById("sizeGB");
      let gridFactor = document.getElementById("gridFactor");
      let result = document.getElementById("result");
      let trees = document.getElementById("trees");
      let cost = document.getElementById("cost");

      function calculateResult() {
        let sumInGB =
          Number(numEmails.value) * convertToGB(Number(sizeKB.value)); // Corrected conversion factor
        let finalResult = (sumInGB * 0.5 * Number(gridFactor.value)) / 1000;
        let treesNeeded = finalResult / 25;
        let costToOffset = finalResult * 0.089;

        result.textContent =
          "Total emissions: " + finalResult.toFixed(5) + " kg CO2e";
        trees.textContent =
          "Number of trees to offset in one year: " + treesNeeded.toFixed(5);
        cost.textContent =
          "Cost to offset with carbon certificates: " +
          costToOffset.toFixed(5) +
          " Euro";
      }

      function convertToKB(value) {
        return value;
      }

      function convertToMB(value) {
        return value / 1024;
      }

      function convertToGB(value) {
        return value / (1024 * 1024);
      }

      sizeKB.addEventListener("input", function () {
        sizeMB.value = convertToMB(Number(sizeKB.value));
        sizeGB.value = convertToGB(Number(sizeKB.value));
        calculateResult();
      });

      sizeMB.addEventListener("input", function () {
        sizeKB.value = convertToKB(Number(sizeMB.value * 1024));
        sizeGB.value = convertToGB(Number(sizeMB.value * 1024));
        calculateResult();
      });

      sizeGB.addEventListener("input", function () {
        sizeKB.value = convertToKB(Number(sizeGB.value * 1024 * 1024));
        sizeMB.value = convertToMB(Number(sizeGB.value * 1024 * 1024));
        calculateResult();
      });

      numEmails.addEventListener("input", calculateResult);
      sizeKB.addEventListener("input", calculateResult);
      gridFactor.addEventListener("input", calculateResult);
      calculateResult();
    </script>
  </body>
</html>
